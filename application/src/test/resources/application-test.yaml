# Test configuration for AI Insurance Service

# Disable auto-configuration for external services during testing
spring:
  autoconfigure:
    exclude:
      - org.springframework.boot.autoconfigure.web.client.RestTemplateAutoConfiguration
      - org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration
      - org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration
      - com.okta.spring.boot.oauth.OktaOAuth2AutoConfig
  security:
    oauth2:
      client:
        registration: {}
        provider: {}
  ai:
    vertex:
      ai:
        gemini:
          chat:
            enabled: false

# Override Okta properties for tests
okta:
  oauth2:
    issuer: http://localhost:8080/oauth2/default
    client-id: test-client-id
    client-secret: test-client-secret
    scopes: openid,profile,email
    redirect-uri: /login/oauth2/code/okta

# Logging configuration for tests
logging:
  level:
    tech.yildirim.aiinsurance: DEBUG
    org.springframework.ai: DEBUG
    org.mockito: WARN
    com.okta: ERROR
    org.springframework.security: DEBUG
  pattern:
    console: "%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"

# Test-specific properties
test:
  mock:
    customers-api:
      enabled: true
